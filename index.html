<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>籤籤中 卦卦準 - 靈龜求籤</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        *
/* 遊覽數量計數器樣式 */
 .visitor-counter {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            padding: 8px 20px;
            margin: 10px auto 20px;
            display: inline-block;
            font-size: 0.9rem;
            border: 1px solid rgba(212, 175, 55, 0.5);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            animation: pulse 3s infinite;
        }
        
        .visitor-counter i {
            color: #ffd700;
            margin-right: 5px;
        }
        
        .visitor-counter span {
            font-weight: bold;
            color: #ffd700;
            font-size: 1.1rem;
            margin: 0 3px;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 2px 10px rgba(255, 215, 0, 0.3); }
            50% { box-shadow: 0 2px 15px rgba(255, 215, 0, 0.6); }
            100% { box-shadow: 0 2px 10px rgba(255, 215, 0, 0.3); }
        } {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            border: 2px solid #d4af37;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.2) 0%, transparent 70%);
            z-index: -1;
        }
        
        .app-title {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.8);
            letter-spacing: 3px;
            color: #ffd700;
            background: linear-gradient(to right, #ffd700, #ffec8b, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .app-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .turtle-container {
            width: 300px;
            height: 300px;
            margin: 0 auto 30px;
            position: relative;
            perspective: 1000px;
        }
        
        /* CSS繪製的靈龜 */
        .turtle {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }
        
        /* 龜殼 */
        .turtle-shell {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 180px;
            height: 200px;
            background: linear-gradient(145deg, #3a6b3a, #2c522c);
            border-radius: 50% 50% 45% 45%;
            border: 8px solid #1e3a1e;
            box-shadow: 
                0 0 20px rgba(46, 139, 87, 0.6),
                inset 0 0 30px rgba(0, 0, 0, 0.3);
            z-index: 2;
        }
        
        /* 龜殼紋理 */
        .shell-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: inherit;
            overflow: hidden;
        }
        
        .hexagon {
            position: absolute;
            width: 30px;
            height: 18px;
            background: rgba(30, 58, 30, 0.7);
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
        }
        
        .hexagon:nth-child(1) { top: 20%; left: 35%; }
        .hexagon:nth-child(2) { top: 15%; left: 60%; }
        .hexagon:nth-child(3) { top: 30%; left: 20%; }
        .hexagon:nth-child(4) { top: 30%; left: 50%; }
        .hexagon:nth-child(5) { top: 45%; left: 35%; }
        .hexagon:nth-child(6) { top: 45%; left: 65%; }
        .hexagon:nth-child(7) { top: 60%; left: 25%; }
        .hexagon:nth-child(8) { top: 60%; left: 55%; }
        .hexagon:nth-child(9) { top: 75%; left: 40%; }
        
        /* 龜頭 */
        .turtle-head {
            position: absolute;
            top: 25%;
            right: 10%;
            width: 60px;
            height: 40px;
            background: linear-gradient(to bottom, #3a6b3a, #2c522c);
            border-radius: 50% 30% 30% 50%;
            border: 4px solid #1e3a1e;
            z-index: 1;
        }
        
        /* 龜眼 */
        .turtle-eye {
            position: absolute;
            top: 35%;
            right: 15px;
            width: 12px;
            height: 12px;
            background: #ffd700;
            border-radius: 50%;
            border: 2px solid #000;
            box-shadow: 0 0 10px #ffd700;
        }
        
        /* 龜腳 */
        .turtle-leg {
            position: absolute;
            width: 40px;
            height: 25px;
            background: linear-gradient(to bottom, #3a6b3a, #2c522c);
            border: 4px solid #1e3a1e;
            border-radius: 50%;
        }
        
        .leg-front-left { top: 40%; left: 15%; transform: rotate(45deg); }
        .leg-front-right { top: 40%; right: 15%; transform: rotate(-45deg); }
        .leg-back-left { top: 70%; left: 15%; transform: rotate(-45deg); }
        .leg-back-right { top: 70%; right: 15%; transform: rotate(45deg); }
        
        /* 龜尾 */
        .turtle-tail {
            position: absolute;
            top: 75%;
            left: 45%;
            width: 30px;
            height: 15px;
            background: linear-gradient(to right, #3a6b3a, #2c522c);
            border-radius: 0 50% 50% 0;
            border: 3px solid #1e3a1e;
            transform: rotate(45deg);
        }
        
        /* 靈光效果 */
        .turtle-aura {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 250px;
            height: 250px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(46, 139, 87, 0.3), transparent 70%);
            animation: auraPulse 3s infinite;
            z-index: 0;
        }
        
        @keyframes auraPulse {
            0% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.1); }
            100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
        }
        
        .coins {
            position: absolute;
            bottom: -30px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 15px;
            z-index: 10;
        }
        
        .coin {
            width: 35px;
            height: 35px;
            background: linear-gradient(145deg, #d4af37, #ffd700, #d4af37);
            border-radius: 50%;
            border: 3px solid #c19b07;
            box-shadow: 
                0 3px 10px rgba(0, 0, 0, 0.5),
                inset 0 0 10px rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #8b0000;
            font-size: 20px;
            position: relative;
            z-index: 3;
               }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
        }
        
        .btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-free {
            background: linear-gradient(to right, #4facfe, #00f2fe);
            color: #fff;
            box-shadow: 0 5px 15px rgba(0, 242, 254, 0.4);
        }
        
        .btn-paid {
            background: linear-gradient(to right, #ff9a9e, #fad0c4);
            color: #8b0000;
            box-shadow: 0 5px 15px rgba(255, 154, 158, 0.4);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .result-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid #d4af37;
            display: none;
        }
        
        .result-title {
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #ffd700;
        }
        
        .pattern-display {
            text-align: center;
            font-size: 1.5rem;
            letter-spacing: 10px;
            margin: 20px 0;
            background: rgba(212, 175, 55, 0.2);
            padding: 10px;
            border-radius: 10px;
        }
        
        .interpretation {
            line-height: 1.8;
            font-size: 1.1rem;
            text-align: justify;
        }
        
        .paid-service {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            border: 2px solid #ff9a9e;
        }
        
        .paid-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #ffd700;
        }
        
        .price-tag {
            background: linear-gradient(to right, #ff9a9e, #fad0c4);
            color: #8b0000;
            font-size: 2rem;
            font-weight: bold;
            padding: 15px;
            border-radius: 50px;
            display: inline-block;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(255, 154, 158, 0.4);
        }
        
        .whatsapp-btn {
            background: linear-gradient(to right, #25D366, #128C7E);
            color: white;
            padding: 15px 40px;
            font-size: 1.3rem;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
        }
        
        .whatsapp-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.6);
        }
        
        .instructions {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 20px;
            margin: 30px 0;
            font-size: 0.95rem;
            border: 1px solid #4facfe;
        }
        
        .instructions h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #4facfe;
        }
        
        .instructions ol {
            padding-left: 20px;
            line-height: 1.8;
        }
        
        .shaking {
            animation: shake 0.5s infinite;
        }
        
        @keyframes shake {
            0% { transform: translateX(0) rotate(0deg); }
            20% { transform: translateX(-10px) rotate(-5deg); }
            40% { transform: translateX(10px) rotate(5deg); }
            60% { transform: translateX(-10px) rotate(-5deg); }
            80% { transform: translateX(10px) rotate(5deg); }
            100% { transform: translateX(0) rotate(0deg); }
        }
        
        .fortune-animation {
            animation: fortuneReveal 2s forwards;
        }
        
        @keyframes fortuneReveal {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .yin-yang {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle at 50% 25%, #000 10%, #fff 10%);
            border: 1px solid #000;
            position: relative;
        }
        
        .yin-yang::before {
            content: "";
            position: absolute;
            bottom: 25%;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: #fff;
            border-radius: 50%;
            border: 1px solid #000;
        }
        
        .yang {
            background: radial-gradient(circle at 50% 25%, #fff 10%, #000 10%);
        }
        
        .yang::before {
            background: #000;
        }
        
        /* YouTube影片播放器 - 移至最下方 */
        .youtube-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 20px;
            padding: 25px;
            margin: 30px 0 10px 0;
            border: 2px solid #ff0000;
            text-align: center;
        }
        
        .youtube-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #ffd700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .youtube-title i {
            color: #ff0000;
        }
        
        .video-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 比例 */
            height: 0;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
        }
        
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .video-description {
            margin-top: 15px;
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }
        
        .video-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        
        .video-btn {
            padding: 10px 20px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .play-btn {
            background: linear-gradient(to right, #ff0000, #cc0000);
            color: white;
        }
        
        .pause-btn {
            background: linear-gradient(to right, #4facfe, #00f2fe);
            color: white;
        }
        
        .mute-btn {
            background: linear-gradient(to right, #ff9a9e, #fad0c4);
            color: #8b0000;
        }
        
        .video-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .footer {
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        @media (max-width: 600px) {
            .app-title {
                font-size: 2rem;
            }
            
            .turtle-container {
                width: 250px;
                height: 250px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .coin {
                width: 28px;
                height: 28px;
                font-size: 16px;
            }
            
            .video-controls {
                flex-wrap: wrap;
            }
            
            .video-btn {
                padding: 8px 16px;
                font-size: 0.9rem;
            }
            
            .youtube-container {
                margin: 20px 0 0 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="app-title">籤籤中 卦卦準</h1>
            <p class="app-subtitle">靈龜銅錢占卜 · 預測未來運勢</p>
<div class="visitor-counter">
                <i class="fas fa-users"></i> 今日瀏覽：<span id="todayCount">0</span> | 總瀏覽：<span id="totalCount">0</span>
            </div>
            
            <div class="turtle-container">
                <div class="turtle" id="turtle">
                    <div class="turtle-aura"></div>
                    <div class="turtle-shell">
                        <div class="shell-pattern">
                            <div class="hexagon"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon"></div>
                        </div>
                    </div>
                    <div class="turtle-head">
                        <div class="turtle-eye"></div>
                    </div>
                    <div class="turtle-leg leg-front-left"></div>
                    <div class="turtle-leg leg-front-right"></div>
                    <div class="turtle-leg leg-back-left"></div>
                    <div class="turtle-leg leg-back-right"></div>
                    <div class="turtle-tail"></div>
                    
                    <div class="coins">
                        <div class="coin" id="coin1">㊍</div>
                        <div class="coin" id="coin2">㊍</div>
                        <div class="coin" id="coin3">㊍</div>
                        <div class="coin" id="coin4">㊍</div>
                        <div class="coin" id="coin5">㊍</div>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-free" id="freeFortuneBtn">
                    <i class="fas fa-dragon"></i> 免費求籤
                </button>
                <button class="btn btn-paid" id="paidFortuneBtn">
                    <i class="fas fa-crown"></i> 小師兄代求 (100元/問)
                </button>
            </div>
        </header>
        
        <div class="result-container" id="resultContainer">
            <h2 class="result-title" id="fortuneName"></h2>
            <div class="pattern-display" id="fortunePattern"></div>
            <p class="interpretation" id="fortuneInterpretation"></p>
        </div>
        
        <div class="paid-service">
            <h2 class="paid-title">小師兄代求籤服務</h2>
            <p>由小師兄為您親自求籤解卦，深入解讀運勢</p>
            <div class="price-tag">每問 HK$ 100</div>
            <p>點擊下方按鈕，通過WhatsApp與小師兄聯繫</p>
            
            <button class="whatsapp-btn" id="whatsappBtn">
                <i class="fab fa-whatsapp"></i> 聯繫小師兄
            </button>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> 使用說明</h3>
            <ol>
                <li>點擊"免費求籤"按鈕，靈龜會為您搖出五枚銅錢</li>
                <li>系統根據銅錢正反面（陰陽）組合生成卦象</li>
                <li>解讀您的卦象，了解近期運勢</li>
                <li>觀看下方卜卦影片了解更多占卜知識</li>
                <li>如需更深入解讀，可選擇"小師兄代求"服務</li>
                <li>小師兄代求服務每問收費100元，通過WhatsApp聯繫</li>
            </ol>
        </div>
        
        <!-- YouTube影片播放器 - 移至最下方 -->
        <div class="youtube-container">
            <h2 class="youtube-title">
                <i class="fab fa-youtube"></i> 占卜示範影片(示範片段為災散卦)
            </h2>
            <div class="video-wrapper">
                <iframe id="youtubeVideo" 
                        src="https://www.youtube.com/embed/6cDM0q3hdyI?enablejsapi=1" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen>
                </iframe>
            </div>
            
            <div class="video-controls">
                <button class="video-btn play-btn" id="playVideo">
                    <i class="fas fa-play"></i> 播放
                </button>
                <button class="video-btn pause-btn" id="pauseVideo">
                    <i class="fas fa-pause"></i> 暫停
                </button>
                <button class="video-btn mute-btn" id="muteVideo">
                    <i class="fas fa-volume-up"></i> 靜音/取消靜音
                </button>
            </div>
            
            <p class="video-description">
                觀看此影片了解靈龜占卜的傳統文化和使用方法。影片展示了傳統占卜儀式，幫助您更好地理解本網頁的求籤原理。
            </p>
        </div>
        
        <div class="footer">
            <p>© 2026 籤籤中 卦卦準 · 心誠則靈</p>
        </div>
    </div>

     <script>
        // 遊覽數量計數器功能
        class VisitorCounter {
            constructor() {
                this.todayCountElement = document.getElementById('todayCount');
                this.totalCountElement = document.getElementById('totalCount');
                this.storageKey = 'turtle_fortune_app_stats';
                this.todayDate = new Date().toDateString();
                this.init();
            }
            
            init() {
                this.loadStats();
                this.incrementCount();
                this.updateDisplay();
            }
            
            loadStats() {
                const savedStats = localStorage.getItem(this.storageKey);
                if (savedStats) {
                    this.stats = JSON.parse(savedStats);
                    
                    // 檢查是否是新的一天
                    if (this.stats.lastVisitDate !== this.todayDate) {
                        this.stats.todayCount = 0;
                        this.stats.lastVisitDate = this.todayDate;
                    }
                } else {
                    // 初次使用
                    this.stats = {
                        totalCount: 0,
                        todayCount: 0,
                        lastVisitDate: this.todayDate,
                        firstVisitDate: this.todayDate
                    };
                }
            }
            
            incrementCount() {
                // 避免重複計數（同一session只計一次）
                const sessionKey = 'has_counted_today';
                if (!sessionStorage.getItem(sessionKey)) {
                    this.stats.totalCount++;
                    this.stats.todayCount++;
                    sessionStorage.setItem(sessionKey, 'true');
                    this.saveStats();
                }
            }
            
            updateDisplay() {
                // 格式化數字顯示（每三位加逗號）
                const formatNumber = (num) => {
                    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                };
                
                this.todayCountElement.textContent = formatNumber(this.stats.todayCount);
                this.totalCountElement.textContent = formatNumber(this.stats.totalCount);
                
                // 可選：添加動畫效果
                this.todayCountElement.style.transform = 'scale(1.2)';
                this.totalCountElement.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    this.todayCountElement.style.transform = 'scale(1)';
                    this.totalCountElement.style.transform = 'scale(1)';
                }, 300);
            }
            
            saveStats() {
                localStorage.setItem(this.storageKey, JSON.stringify(this.stats));
                this.updateDisplay();
            }
            
            // 額外功能：重置計數器（開發用）
            resetStats() {
                if (confirm('確定要重置計數器嗎？')) {
                    localStorage.removeItem(this.storageKey);
                    sessionStorage.removeItem('has_counted_today');
                    this.init();
                }
            }
            
            // 獲取統計數據
            getStats() {
                return this.stats;
            }
        }
        
        // 初始化計數器
        const visitorCounter = new VisitorCounter();
        // 卦象數據
        const fortunes = [
            { pattern: "陰陰陰陰陰", name: "星震卦(上上)", interpretation: "禍消福至、求官得位、求財大利、婚姻成就、出行大吉、占病得安、做事大吉、考試得意。" },
            { pattern: "陰陽陽陽陽", name: "從隔卦(上平)", interpretation: "行事得利、作事可成、占訟和吉、求官得位、走失見近、婚姻成吉、運途漸吉、作事如意。" },
            { pattern: "陽陰陽陽陽", name: "曲直卦(中平)", interpretation: "出行吉利、謀事成就、占孕生男、家宅大吉、運途漸轉、占病不妨、作事如意、月令小吉。" },
            { pattern: "陽陽陰陽陽", name: "潤下卦(小平)", interpretation: "人口平安、作事小心、求財六分、六甲生男、交易成吉、占訟和吉、行人得信、運途好轉。" },
            { pattern: "陽陽陽陰陽", name: "災正卦(下下)", interpretation: "求謀有阻、出行平平、求財落空、占訟不和、婚姻平常、尋人不見、家室小康、運途不好。" },
            { pattern: "陽陽陽陽陰", name: "進檣卦(平平)", interpretation: "謀事不成、家運小康、作事不好、占訟不好、考試不利、出行小心、行人成至、六甲生女。" },
            { pattern: "陰陰陽陽陽", name: "進求卦(上上)", interpretation: "求官得位、作事成就、開市大吉、六甲生男、求財十分、家宅大吉、占訟有理、運途如意。" },
            { pattern: "陰陽陰陽陽", name: "進寶卦(上吉)", interpretation: "求官得位、求財十分、六甲生男、考試上一、占病得安、婚姻成就、作事可成、運途如意。" },
            { pattern: "陰陽陽陽陰", name: "獲安卦(中吉)", interpretation: "求官遠吉、占病無妨、求財三分、六甲生女、婚姻暫談、尋人得見、考試得中、運途大吉。" },
            { pattern: "陰陽陽陰陽", name: "遂心卦(中吉)", interpretation: "謀事可成、運途小吉、作事小心、求財八分、交易和合、六甲生男、口舌無妨、婚姻成就。" },
            { pattern: "陽陰陰陽陽", name: "災散卦(大吉)", interpretation: "求官得位、求財九分、六甲生男、婚姻成就、家宅安康、運途如意、生意得利、貴人扶持。" },
            { pattern: "陽陰陽陰陽", name: "上進卦(上平)", interpretation: "求官得位、占訟和吉、口舌無妨、作事可成、求財八分、出行大吉、婚姻可成、運途大利。" },
            { pattern: "陽陰陽陽陰", name: "暗昧卦(下凶)", interpretation: "謀事不成、交易不利、求財落空、尋人不見、六甲生女、行人未至、生意不利、運途大凶。" },
            { pattern: "陽陽陰陰陽", name: "安靜卦(下中)", interpretation: "功名未遂、出行不宜、作事不成、占病難癒、六甲生女、口舌臨身、運途不好、凡事小吉。" },
            { pattern: "陽陽陰陽陰", name: "玄武卦(下凶)", interpretation: "求財不利、尋人不見、走失落空、六甲生男、婚姻不成、占訟不和、運途不利、身體小康。" },
            { pattern: "陽陽陽陰陰", name: "保安卦(平吉)", interpretation: "求官得位、求財九分、作事可成、官訟和理、口舌消散、光明上進、運途如意、婚姻成就。" },
            { pattern: "陰陰陰陽陽", name: "喜至卦(中吉)", interpretation: "謀事暫成、作事平平、求財六分、婚姻平常、身體小康、六甲生女、出行謀財、事事遂心。" },
            { pattern: "陰陰陽陰陽", name: "保命卦(中平)", interpretation: "口舌無妨、謀事可成、凡事小心、求財七分、求官得位、家運小康、六甲生男、占病無妨。" },
            { pattern: "陰陰陽陽陰", name: "猶豫卦(下下)", interpretation: "出行小心、婚姻不成、謀事不成、貴人不佳、凡事不好、錢財落空、人口不安、家運不利。" },
            { pattern: "陰陽陰陰陽", name: "豐稔卦(上平)", interpretation: "謀事成就、求官得位、出行大吉、月令平常、身體小康、口舌消除、作事可成、家運如意。" },
            { pattern: "陰陽陰陽陰", name: "得祿卦(上吉)", interpretation: "婚姻可成、謀事成就、求官得位、占訟和吉、求財大利、口舌消散、作事可成、運途如意。" },
            { pattern: "陰陽陽陰陰", name: "明顯卦(吉)", interpretation: "出行大吉、求官得位、口舌消散、婚姻成就、凡事如意、事事遂心、生意得利、身體安康。" },
            { pattern: "陽陰陰陰陽", name: "祐福卦(吉)", interpretation: "婚姻可成、先明上進、求財十分、交易大利、作事成就、生意得利、六甲生男、家運平安。" },
            { pattern: "陽陰陰陽陰", name: "凝滯卦(下)", interpretation: "婚姻平平、六甲生女、求官不成、謀事不成、凡事小心、走失不見、求財落空、運途不佳。" },
            { pattern: "陽陰陽陰陰", name: "顯達卦(吉)", interpretation: "口舌消除、求官得位、六甲生男、凡事平常、求財六分、作事小心、出行大吉、運途如意。" },
            { pattern: "陽陽陰陰陰", name: "福源卦(吉)", interpretation: "口舌無妨、出行大利、謀事可成、求官得位、事事遂心、作事成之、求財七分、家宅大吉。" },
            { pattern: "陽陰陰陰陰", name: "太平卦(大吉)", interpretation: "婚姻可就、占病無妨、口舌消除、出行大吉、交易得意、謀事成就、求財七分、運途大吉。" },
            { pattern: "陰陰陰陽陰", name: "顛險卦(下)", interpretation: "求官得位、凡事小心、口舌臨身、出行不利、作事不成、婚事不好、六甲生女、身體小康。" },
            { pattern: "陰陰陽陰陰", name: "開發卦(吉)", interpretation: "占病無妨、婚姻成就、謀事成功、口舌漸消、貴人扶持、出行大利、光明上進、家運小康。" },
            { pattern: "陰陰陰陰陽", name: "揚吉卦(吉)", interpretation: "交友助成、口舌消除、婚姻可成、求官得位、出行大吉、交易大利、作事可成、家運小康。" },
            { pattern: "陰陽陰陰陰", name: "後吉卦(平)", interpretation: "占病不愈、求官得位、月令不佳、出行小吉、六甲生男、尋人不見、凡事小心、家運小康。" },
            { pattern: "陽陽陽陽陽", name: "不利卦(下)", interpretation: "占訟不好、婚姻不好、謀事不成、出行不利、凡事小心、口舌禍端、財庫落空、家運小康。" }
        ];

        // DOM元素
        const turtle = document.getElementById('turtle');
        const coins = [
            document.getElementById('coin1'),
            document.getElementById('coin2'),
            document.getElementById('coin3'),
            document.getElementById('coin4'),
            document.getElementById('coin5')
        ];
        const freeFortuneBtn = document.getElementById('freeFortuneBtn');
        const paidFortuneBtn = document.getElementById('paidFortuneBtn');
        const whatsappBtn = document.getElementById('whatsappBtn');
        const resultContainer = document.getElementById('resultContainer');
        const fortuneName = document.getElementById('fortuneName');
        const fortunePattern = document.getElementById('fortunePattern');
        const fortuneInterpretation = document.getElementById('fortuneInterpretation');
        
        // YouTube相關元素
        const youtubeVideo = document.getElementById('youtubeVideo');
        const playVideoBtn = document.getElementById('playVideo');
        const pauseVideoBtn = document.getElementById('pauseVideo');
        const muteVideoBtn = document.getElementById('muteVideo');

        // YouTube API載入
        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtubeVideo', {
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            console.log('YouTube播放器已準備就緒');
        }

        function onPlayerStateChange(event) {
            // 播放狀態變化時的處理
            console.log('播放器狀態變化:', event.data);
        }

        // 影片控制功能
        playVideoBtn.addEventListener('click', () => {
            if (player && typeof player.playVideo === 'function') {
                player.playVideo();
            } else {
                // 備用方法
                youtubeVideo.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
            }
        });

        pauseVideoBtn.addEventListener('click', () => {
            if (player && typeof player.pauseVideo === 'function') {
                player.pauseVideo();
            } else {
                // 備用方法
                youtubeVideo.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
            }
        });

        let isMuted = false;
        muteVideoBtn.addEventListener('click', () => {
            if (player && typeof player.isMuted === 'function') {
                if (player.isMuted()) {
                    player.unMute();
                    muteVideoBtn.innerHTML = '<i class="fas fa-volume-up"></i> 靜音';
                } else {
                    player.mute();
                    muteVideoBtn.innerHTML = '<i class="fas fa-volume-mute"></i> 取消靜音';
                }
            } else {
                // 備用方法
                isMuted = !isMuted;
                youtubeVideo.contentWindow.postMessage(`{"event":"command","func":"${isMuted ? 'mute' : 'unMute'}","args":""}`, '*');
                muteVideoBtn.innerHTML = isMuted 
                    ? '<i class="fas fa-volume-mute"></i> 取消靜音'
                    : '<i class="fas fa-volume-up"></i> 靜音';
            }
        });

        // 免費求籤功能
        freeFortuneBtn.addEventListener('click', () => {
            // 開始動畫
            turtle.classList.add('shaking');
            freeFortuneBtn.disabled = true;
            
            // 清除之前的结果
            resultContainer.style.display = 'none';
            
            // 模擬搖籤過程
            setTimeout(() => {
                turtle.classList.remove('shaking');
                
                // 隨機生成五枚銅錢正反面
                const pattern = [];
                for (let i = 0; i < 5; i++) {
                    const isYang = Math.random() > 0.5;
                    coins[i].textContent = isYang ? '㊋' : '㊍';
                    pattern.push(isYang ? '陽' : '陰');
                }
                
                const patternStr = pattern.join('');
                
                // 找到對應的卦象
                const fortune = fortunes.find(f => f.pattern === patternStr) || fortunes[0];
                
                // 顯示結果
                fortuneName.textContent = fortune.name;
                
                // 格式化卦象顯示
                fortunePattern.innerHTML = '';
                pattern.forEach(symbol => {
                    const span = document.createElement('span');
                    span.textContent = symbol;
                    span.style.margin = '0 10px';
                    span.style.fontSize = '2rem';
                    fortunePattern.appendChild(span);
                });
                
                fortuneInterpretation.textContent = fortune.interpretation;
                
                // 顯示結果並添加動畫
                resultContainer.style.display = 'block';
                resultContainer.classList.add('fortune-animation');
                
                // 重新啟用按鈕
                freeFortuneBtn.disabled = false;
            }, 2000);
        });

        // 付費服務 - WhatsApp 連結
        whatsappBtn.addEventListener('click', () => {
            window.open('https://wa.me/85292198364', '_blank');
        });

        paidFortuneBtn.addEventListener('click', () => {
            window.open('https://wa.me/85292198364', '_blank');
        });

        // 初始顯示一個卦象
        window.addEventListener('load', () => {
            const initialFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
            fortuneName.textContent = initialFortune.name;
            
            // 格式化卦象顯示
            const pattern = initialFortune.pattern.split('');
            fortunePattern.innerHTML = '';
            pattern.forEach(symbol => {
                const span = document.createElement('span');
                span.textContent = symbol;
                span.style.margin = '0 10px';
                span.style.fontSize = '2rem';
                fortunePattern.appendChild(span);
            });
            
            fortuneInterpretation.textContent = initialFortune.interpretation;
            resultContainer.style.display = 'block';
        });

        // 載入YouTube API
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    </script>
</body>
</html>
